<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="822px" preserveAspectRatio="none" style="width:1427px;height:822px;background:#FFFFFF;" version="1.1" viewBox="0 0 1427 822" width="1427px" zoomAndPan="magnify"><title>[DETALLADO 3/3] M&#243;dulo de Seguridad (Filtros y JWT)</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="366.3311" x="523.3345" y="25.1074">[DETALLADO 3/3] M&#243;dulo de Seguridad (Filtros y JWT)</text></g><!--cluster Filtros y Configuraci?n de Spring Security--><g class="cluster" data-entity="Filtros y Configuraci.n de Spring Security" data-source-line="4" data-uid="ent0002" id="cluster_Filtros y Configuraci.n de Spring Security"><path d="M8.5,143.6348 L290.3135,143.6348 A3.75,3.75 0 0 1 292.8135,146.1348 L299.8135,168.2559 L1045.5,168.2559 A2.5,2.5 0 0 1 1048,170.7559 L1048,554.1348 A2.5,2.5 0 0 1 1045.5,556.6348 L8.5,556.6348 A2.5,2.5 0 0 1 6,554.1348 L6,146.1348 A2.5,2.5 0 0 1 8.5,143.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="299.8135" y1="168.2559" y2="168.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="280.8135" x="10" y="160.7422">Filtros y Configuraci&#243;n de Spring Security</text></g><!--cluster Componentes de Autenticaci?n--><g class="cluster" data-entity="Componentes de Autenticaci.n" data-source-line="25" data-uid="ent0006" id="cluster_Componentes de Autenticaci.n"><path d="M1074.5,409.1348 L1285.5205,409.1348 A3.75,3.75 0 0 1 1288.0205,411.6348 L1295.0205,433.7559 L1377.5,433.7559 A2.5,2.5 0 0 1 1380,436.2559 L1380,813.1348 A2.5,2.5 0 0 1 1377.5,815.6348 L1074.5,815.6348 A2.5,2.5 0 0 1 1072,813.1348 L1072,411.6348 A2.5,2.5 0 0 1 1074.5,409.1348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1072" x2="1295.0205" y1="433.7559" y2="433.7559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="210.0205" x="1076" y="426.2422">Componentes de Autenticaci&#243;n</text></g><!--cluster org--><g class="cluster" data-entity="org" data-source-line="42" data-uid="ent0010" id="cluster_org"><path d="M1074.5,45.6348 L1098.0518,45.6348 A3.75,3.75 0 0 1 1100.5518,48.1348 L1107.5518,70.2559 L1417.5,70.2559 A2.5,2.5 0 0 1 1420,72.7559 L1420,351.1348 A2.5,2.5 0 0 1 1417.5,353.6348 L1074.5,353.6348 A2.5,2.5 0 0 1 1072,351.1348 L1072,48.1348 A2.5,2.5 0 0 1 1074.5,45.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1072" x2="1107.5518" y1="70.2559" y2="70.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22.5518" x="1076" y="62.7422">org</text></g><!--cluster springframework--><g class="cluster" data-entity="springframework" data-source-line="42" data-uid="ent0011" id="cluster_springframework"><path d="M1098.5,90.6348 L1213.0859,90.6348 A3.75,3.75 0 0 1 1215.5859,93.1348 L1222.5859,115.2559 L1393.5,115.2559 A2.5,2.5 0 0 1 1396,117.7559 L1396,327.1348 A2.5,2.5 0 0 1 1393.5,329.6348 L1098.5,329.6348 A2.5,2.5 0 0 1 1096,327.1348 L1096,93.1348 A2.5,2.5 0 0 1 1098.5,90.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1096" x2="1222.5859" y1="115.2559" y2="115.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113.5859" x="1100" y="107.7422">springframework</text></g><!--cluster web--><g class="cluster" data-entity="web" data-source-line="42" data-uid="ent0012" id="cluster_web"><path d="M1122.5,135.6348 L1150.7275,135.6348 A3.75,3.75 0 0 1 1153.2275,138.1348 L1160.2275,160.2559 L1369.5,160.2559 A2.5,2.5 0 0 1 1372,162.7559 L1372,303.1348 A2.5,2.5 0 0 1 1369.5,305.6348 L1122.5,305.6348 A2.5,2.5 0 0 1 1120,303.1348 L1120,138.1348 A2.5,2.5 0 0 1 1122.5,135.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1120" x2="1160.2275" y1="160.2559" y2="160.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="27.2275" x="1124" y="152.7422">web</text></g><!--cluster filter--><g class="cluster" data-entity="filter" data-source-line="42" data-uid="ent0013" id="cluster_filter"><path d="M1146.5,180.6348 L1177.8379,180.6348 A3.75,3.75 0 0 1 1180.3379,183.1348 L1187.3379,205.2559 L1345.5,205.2559 A2.5,2.5 0 0 1 1348,207.7559 L1348,279.1348 A2.5,2.5 0 0 1 1345.5,281.6348 L1146.5,281.6348 A2.5,2.5 0 0 1 1144,279.1348 L1144,183.1348 A2.5,2.5 0 0 1 1146.5,180.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1144" x2="1187.3379" y1="205.2559" y2="205.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30.3379" x="1148" y="197.7422">filter</text></g><!--class SecurityConfig--><g class="entity" data-entity="SecurityConfig" data-source-line="5" data-uid="ent0003" id="entity_SecurityConfig"><rect fill="#F1F1F1" height="122.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="497.6387" x="297" y="180.6348"/><ellipse cx="496.0488" cy="196.6348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M498.8145,192.5098 Q498.9707,192.291 499.1582,192.1816 Q499.3457,192.0723 499.5645,192.0723 Q499.9395,192.0723 500.1738,192.3379 Q500.4082,192.5879 500.4082,193.1973 L500.4082,194.6504 Q500.4082,195.2598 500.1738,195.5254 Q499.9395,195.791 499.5645,195.791 Q499.2207,195.791 499.0176,195.5879 Q498.8145,195.4004 498.7051,194.8848 Q498.6582,194.5254 498.4707,194.3379 Q498.1426,193.9629 497.5332,193.7441 Q496.9238,193.5254 496.2988,193.5254 Q495.5332,193.5254 494.8926,193.8535 Q494.2676,194.1816 493.7676,194.9316 Q493.2832,195.6816 493.2832,196.7129 L493.2832,197.8066 Q493.2832,199.041 494.1738,199.8691 Q495.0645,200.6816 496.6582,200.6816 Q497.5957,200.6816 498.252,200.4316 Q498.6426,200.2754 499.0645,199.8379 Q499.3301,199.5723 499.4707,199.4941 Q499.627,199.416 499.8301,199.416 Q500.1582,199.416 500.4082,199.6816 Q500.6738,199.9316 500.6738,200.2754 Q500.6738,200.6191 500.3301,201.0254 Q499.8301,201.6035 499.0332,201.9316 Q497.9551,202.3848 496.6582,202.3848 Q495.1426,202.3848 493.9395,201.7598 Q492.9551,201.2598 492.2676,200.1973 Q491.5801,199.1191 491.5801,197.8379 L491.5801,196.6816 Q491.5801,195.3535 492.1895,194.2129 Q492.8145,193.0566 493.9082,192.4473 Q495.002,191.8223 496.2363,191.8223 Q496.9707,191.8223 497.6113,191.9941 Q498.2676,192.1504 498.8145,192.5098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.041" x="516.5488" y="202.4316">SecurityConfig</text><line style="stroke:#181818;stroke-width:0.5;" x1="298" x2="793.6387" y1="212.6348" y2="212.6348"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="305" y="224.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.2754" x="317" y="231.7422">ApiKeyFilter apiKeyFilter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="305" y="243.0664"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281.6816" x="317" y="250.3633">JwtAuthenticationFilter jwtAuthenticationFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="298" x2="793.6387" y1="257.877" y2="257.877"/><ellipse cx="308" cy="272.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="471.6387" x="317" y="276.9844">AuthenticationManager authenticationManager(AuthenticationConfiguration)</text><ellipse cx="308" cy="291.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.751" x="317" y="295.6055">SecurityFilterChain filterChain(HttpSecurity)</text></g><!--class ApiKeyFilter--><g class="entity" data-entity="ApiKeyFilter" data-source-line="12" data-uid="ent0004" id="entity_ApiKeyFilter"><rect fill="#F1F1F1" height="122.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="487.4258" x="22.5" y="418.6348"/><ellipse cx="224.2285" cy="434.6348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M226.9941,430.5098 Q227.1504,430.291 227.3379,430.1816 Q227.5254,430.0723 227.7441,430.0723 Q228.1191,430.0723 228.3535,430.3379 Q228.5879,430.5879 228.5879,431.1973 L228.5879,432.6504 Q228.5879,433.2598 228.3535,433.5254 Q228.1191,433.791 227.7441,433.791 Q227.4004,433.791 227.1973,433.5879 Q226.9941,433.4004 226.8848,432.8848 Q226.8379,432.5254 226.6504,432.3379 Q226.3223,431.9629 225.7129,431.7441 Q225.1035,431.5254 224.4785,431.5254 Q223.7129,431.5254 223.0723,431.8535 Q222.4473,432.1816 221.9473,432.9316 Q221.4629,433.6816 221.4629,434.7129 L221.4629,435.8066 Q221.4629,437.041 222.3535,437.8691 Q223.2441,438.6816 224.8379,438.6816 Q225.7754,438.6816 226.4316,438.4316 Q226.8223,438.2754 227.2441,437.8379 Q227.5098,437.5723 227.6504,437.4941 Q227.8066,437.416 228.0098,437.416 Q228.3379,437.416 228.5879,437.6816 Q228.8535,437.9316 228.8535,438.2754 Q228.8535,438.6191 228.5098,439.0254 Q228.0098,439.6035 227.2129,439.9316 Q226.1348,440.3848 224.8379,440.3848 Q223.3223,440.3848 222.1191,439.7598 Q221.1348,439.2598 220.4473,438.1973 Q219.7598,437.1191 219.7598,435.8379 L219.7598,434.6816 Q219.7598,433.3535 220.3691,432.2129 Q220.9941,431.0566 222.0879,430.4473 Q223.1816,429.8223 224.416,429.8223 Q225.1504,429.8223 225.791,429.9941 Q226.4473,430.1504 226.9941,430.5098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4688" x="244.7285" y="440.4316">ApiKeyFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="508.9258" y1="450.6348" y2="450.6348"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.5" y="462.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="164.958" x="42.5" y="469.7422">String API_KEY_HEADER</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.5" y="481.0664"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9648" x="42.5" y="488.3633">String esp32ApiKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="508.9258" y1="495.877" y2="495.877"/><polygon fill="#FFFF44" points="33.5,505.6875,37.5,509.6875,33.5,513.6875,29.5,509.6875" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="461.4258" x="42.5" y="514.9844">void doFilterInternal(HttpServletRequest,HttpServletResponse,FilterChain)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.5" y="526.3086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.2129" x="42.5" y="533.6055">boolean validarApiKey(String)</text></g><!--class JwtAuthenticationFilter--><g class="entity" data-entity="JwtAuthenticationFilter" data-source-line="19" data-uid="ent0005" id="entity_JwtAuthenticationFilter"><rect fill="#F1F1F1" height="85.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="487.4258" x="544.5" y="437.1348"/><ellipse cx="713.5425" cy="453.1348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M716.3081,449.0098 Q716.4644,448.791 716.6519,448.6816 Q716.8394,448.5723 717.0581,448.5723 Q717.4331,448.5723 717.6675,448.8379 Q717.9019,449.0879 717.9019,449.6973 L717.9019,451.1504 Q717.9019,451.7598 717.6675,452.0254 Q717.4331,452.291 717.0581,452.291 Q716.7144,452.291 716.5112,452.0879 Q716.3081,451.9004 716.1987,451.3848 Q716.1519,451.0254 715.9644,450.8379 Q715.6362,450.4629 715.0269,450.2441 Q714.4175,450.0254 713.7925,450.0254 Q713.0269,450.0254 712.3862,450.3535 Q711.7612,450.6816 711.2612,451.4316 Q710.7769,452.1816 710.7769,453.2129 L710.7769,454.3066 Q710.7769,455.541 711.6675,456.3691 Q712.5581,457.1816 714.1519,457.1816 Q715.0894,457.1816 715.7456,456.9316 Q716.1362,456.7754 716.5581,456.3379 Q716.8237,456.0723 716.9644,455.9941 Q717.1206,455.916 717.3237,455.916 Q717.6519,455.916 717.9019,456.1816 Q718.1675,456.4316 718.1675,456.7754 Q718.1675,457.1191 717.8237,457.5254 Q717.3237,458.1035 716.5269,458.4316 Q715.4487,458.8848 714.1519,458.8848 Q712.6362,458.8848 711.4331,458.2598 Q710.4487,457.7598 709.7612,456.6973 Q709.0737,455.6191 709.0737,454.3379 L709.0737,453.1816 Q709.0737,451.8535 709.6831,450.7129 Q710.3081,449.5566 711.4019,448.9473 Q712.4956,448.3223 713.73,448.3223 Q714.4644,448.3223 715.105,448.4941 Q715.7612,448.6504 716.3081,449.0098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8408" x="734.0425" y="458.9316">JwtAuthenticationFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="545.5" x2="1030.9258" y1="469.1348" y2="469.1348"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.5" y="480.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.082" x="564.5" y="488.2422">JwtTokenProvider jwtTokenProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="545.5" x2="1030.9258" y1="495.7559" y2="495.7559"/><polygon fill="#FFFF44" points="555.5,505.5664,559.5,509.5664,555.5,513.5664,551.5,509.5664" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="461.4258" x="564.5" y="514.8633">void doFilterInternal(HttpServletRequest,HttpServletResponse,FilterChain)</text></g><!--class JwtTokenProvider--><g class="entity" data-entity="JwtTokenProvider" data-source-line="26" data-uid="ent0007" id="entity_JwtTokenProvider"><rect fill="#F1F1F1" height="178.3477" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="275.0195" x="1088.5" y="621.6348"/><ellipse cx="1165.7393" cy="637.6348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1168.5049,633.5098 Q1168.6611,633.291 1168.8486,633.1816 Q1169.0361,633.0723 1169.2549,633.0723 Q1169.6299,633.0723 1169.8643,633.3379 Q1170.0986,633.5879 1170.0986,634.1973 L1170.0986,635.6504 Q1170.0986,636.2598 1169.8643,636.5254 Q1169.6299,636.791 1169.2549,636.791 Q1168.9111,636.791 1168.708,636.5879 Q1168.5049,636.4004 1168.3955,635.8848 Q1168.3486,635.5254 1168.1611,635.3379 Q1167.833,634.9629 1167.2236,634.7441 Q1166.6143,634.5254 1165.9893,634.5254 Q1165.2236,634.5254 1164.583,634.8535 Q1163.958,635.1816 1163.458,635.9316 Q1162.9736,636.6816 1162.9736,637.7129 L1162.9736,638.8066 Q1162.9736,640.041 1163.8643,640.8691 Q1164.7549,641.6816 1166.3486,641.6816 Q1167.2861,641.6816 1167.9424,641.4316 Q1168.333,641.2754 1168.7549,640.8379 Q1169.0205,640.5723 1169.1611,640.4941 Q1169.3174,640.416 1169.5205,640.416 Q1169.8486,640.416 1170.0986,640.6816 Q1170.3643,640.9316 1170.3643,641.2754 Q1170.3643,641.6191 1170.0205,642.0254 Q1169.5205,642.6035 1168.7236,642.9316 Q1167.6455,643.3848 1166.3486,643.3848 Q1164.833,643.3848 1163.6299,642.7598 Q1162.6455,642.2598 1161.958,641.1973 Q1161.2705,640.1191 1161.2705,638.8379 L1161.2705,637.6816 Q1161.2705,636.3535 1161.8799,635.2129 Q1162.5049,634.0566 1163.5986,633.4473 Q1164.6924,632.8223 1165.9268,632.8223 Q1166.6611,632.8223 1167.3018,632.9941 Q1167.958,633.1504 1168.5049,633.5098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.041" x="1186.2393" y="643.4316">JwtTokenProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="1089.5" x2="1362.5195" y1="653.6348" y2="653.6348"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1096.5" y="665.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.71" x="1108.5" y="672.7422">String secretKey</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1096.5" y="684.0664"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7236" x="1108.5" y="691.3633">long expirationMs</text><line style="stroke:#181818;stroke-width:0.5;" x1="1089.5" x2="1362.5195" y1="698.877" y2="698.877"/><ellipse cx="1099.5" cy="713.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.0195" x="1108.5" y="717.9844">String generarToken(String,String,Long)</text><ellipse cx="1099.5" cy="732.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.6543" x="1108.5" y="736.6055">String obtenerEmailDeToken(String)</text><ellipse cx="1099.5" cy="750.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.6543" x="1108.5" y="755.2266">String obtenerRolDeToken(String)</text><ellipse cx="1099.5" cy="769.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.4541" x="1108.5" y="773.8477">Long obtenerUserIdDeToken(String)</text><ellipse cx="1099.5" cy="788.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7646" x="1108.5" y="792.4688">boolean validarToken(String)</text></g><!--class AuthService--><g class="entity" data-entity="AuthService" data-source-line="36" data-uid="ent0008" id="entity_AuthService"><rect fill="#F1F1F1" height="66.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.082" x="1091" y="446.1348"/><ellipse cx="1174.0498" cy="462.1348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1176.8154,458.0098 Q1176.9717,457.791 1177.1592,457.6816 Q1177.3467,457.5723 1177.5654,457.5723 Q1177.9404,457.5723 1178.1748,457.8379 Q1178.4092,458.0879 1178.4092,458.6973 L1178.4092,460.1504 Q1178.4092,460.7598 1178.1748,461.0254 Q1177.9404,461.291 1177.5654,461.291 Q1177.2217,461.291 1177.0186,461.0879 Q1176.8154,460.9004 1176.7061,460.3848 Q1176.6592,460.0254 1176.4717,459.8379 Q1176.1436,459.4629 1175.5342,459.2441 Q1174.9248,459.0254 1174.2998,459.0254 Q1173.5342,459.0254 1172.8936,459.3535 Q1172.2686,459.6816 1171.7686,460.4316 Q1171.2842,461.1816 1171.2842,462.2129 L1171.2842,463.3066 Q1171.2842,464.541 1172.1748,465.3691 Q1173.0654,466.1816 1174.6592,466.1816 Q1175.5967,466.1816 1176.2529,465.9316 Q1176.6436,465.7754 1177.0654,465.3379 Q1177.3311,465.0723 1177.4717,464.9941 Q1177.6279,464.916 1177.8311,464.916 Q1178.1592,464.916 1178.4092,465.1816 Q1178.6748,465.4316 1178.6748,465.7754 Q1178.6748,466.1191 1178.3311,466.5254 Q1177.8311,467.1035 1177.0342,467.4316 Q1175.9561,467.8848 1174.6592,467.8848 Q1173.1436,467.8848 1171.9404,467.2598 Q1170.9561,466.7598 1170.2686,465.6973 Q1169.5811,464.6191 1169.5811,463.3379 L1169.5811,462.1816 Q1169.5811,460.8535 1170.1904,459.7129 Q1170.8154,458.5566 1171.9092,457.9473 Q1173.0029,457.3223 1174.2373,457.3223 Q1174.9717,457.3223 1175.6123,457.4941 Q1176.2686,457.6504 1176.8154,458.0098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4824" x="1194.5498" y="467.9316">AuthService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1092" x2="1340.082" y1="478.1348" y2="478.1348"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1099" y="489.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.082" x="1111" y="497.2422">JwtTokenProvider jwtTokenProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="1092" x2="1340.082" y1="504.7559" y2="504.7559"/></g><!--class OncePerRequestFilter--><g class="entity" data-entity="OncePerRequestFilter" data-source-line="42" data-uid="ent0009" id="entity_OncePerRequestFilter"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5029" x="1160.5" y="217.6348"/><ellipse cx="1175.5" cy="233.6348" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1178.2656,229.5098 Q1178.4219,229.291 1178.6094,229.1816 Q1178.7969,229.0723 1179.0156,229.0723 Q1179.3906,229.0723 1179.625,229.3379 Q1179.8594,229.5879 1179.8594,230.1973 L1179.8594,231.6504 Q1179.8594,232.2598 1179.625,232.5254 Q1179.3906,232.791 1179.0156,232.791 Q1178.6719,232.791 1178.4688,232.5879 Q1178.2656,232.4004 1178.1563,231.8848 Q1178.1094,231.5254 1177.9219,231.3379 Q1177.5938,230.9629 1176.9844,230.7441 Q1176.375,230.5254 1175.75,230.5254 Q1174.9844,230.5254 1174.3438,230.8535 Q1173.7188,231.1816 1173.2188,231.9316 Q1172.7344,232.6816 1172.7344,233.7129 L1172.7344,234.8066 Q1172.7344,236.041 1173.625,236.8691 Q1174.5156,237.6816 1176.1094,237.6816 Q1177.0469,237.6816 1177.7031,237.4316 Q1178.0938,237.2754 1178.5156,236.8379 Q1178.7813,236.5723 1178.9219,236.4941 Q1179.0781,236.416 1179.2813,236.416 Q1179.6094,236.416 1179.8594,236.6816 Q1180.125,236.9316 1180.125,237.2754 Q1180.125,237.6191 1179.7813,238.0254 Q1179.2813,238.6035 1178.4844,238.9316 Q1177.4063,239.3848 1176.1094,239.3848 Q1174.5938,239.3848 1173.3906,238.7598 Q1172.4063,238.2598 1171.7188,237.1973 Q1171.0313,236.1191 1171.0313,234.8379 L1171.0313,233.6816 Q1171.0313,232.3535 1171.6406,231.2129 Q1172.2656,230.0566 1173.3594,229.4473 Q1174.4531,228.8223 1175.6875,228.8223 Q1176.4219,228.8223 1177.0625,228.9941 Q1177.7188,229.1504 1178.2656,229.5098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.5029" x="1189.5" y="239.4316">OncePerRequestFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="1161.5" x2="1330.0029" y1="249.6348" y2="249.6348"/><line style="stroke:#181818;stroke-width:0.5;" x1="1161.5" x2="1330.0029" y1="257.6348" y2="257.6348"/></g><!--reverse link OncePerRequestFilter to JwtAuthenticationFilter--><g class="link" data-entity-1="OncePerRequestFilter" data-entity-2="JwtAuthenticationFilter" data-source-line="42" data-uid="lnk14" id="link_OncePerRequestFilter_JwtAuthenticationFilter"><path codeLine="42" d="M1195.4359,275.3527 C1156.3759,300.3327 1106.46,331.0548 1048,361.6348 C996.14,388.7648 936.71,415.7948 887.78,437.0348" fill="none" id="OncePerRequestFilter-backto-JwtAuthenticationFilter" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1210.6,265.6548,1192.2032,270.298,1198.6685,280.4074,1210.6,265.6548" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link OncePerRequestFilter to ApiKeyFilter--><g class="link" data-entity-1="OncePerRequestFilter" data-entity-2="ApiKeyFilter" data-source-line="43" data-uid="lnk15" id="link_OncePerRequestFilter_ApiKeyFilter"><path codeLine="43" d="M1202.9057,276.6712 C1166.1057,304.7812 1113.57,340.2048 1048,361.6348 C1032.25,366.7848 767.52,387.4248 751,388.6348 C651.56,395.9248 625.24,384.0548 527,401.1348 C501.39,405.5848 474.73,411.7048 448.67,418.5648" fill="none" id="OncePerRequestFilter-backto-ApiKeyFilter" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1217.21,265.7448,1199.2636,271.9031,1206.5479,281.4393,1217.21,265.7448" style="stroke:#181818;stroke-width:1;"/></g><!--link SecurityConfig to ApiKeyFilter--><g class="link" data-entity-1="SecurityConfig" data-entity-2="ApiKeyFilter" data-source-line="46" data-uid="lnk16" id="link_SecurityConfig_ApiKeyFilter"><path codeLine="46" d="M474.62,302.7948 C432.49,338.3048 383.9375,379.2276 341.8375,414.7176" fill="none" id="SecurityConfig-to-ApiKeyFilter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="337.25,418.5848,346.7093,415.8423,341.0729,415.3621,341.5531,409.7257,337.25,418.5848" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.479" x="390" y="384.6631">configura</text></g><!--link SecurityConfig to JwtAuthenticationFilter--><g class="link" data-entity-1="SecurityConfig" data-entity-2="JwtAuthenticationFilter" data-source-line="47" data-uid="lnk17" id="link_SecurityConfig_JwtAuthenticationFilter"><path codeLine="47" d="M607.69,302.7948 C650.68,344.7248 702.6542,395.4059 740.8142,432.6159" fill="none" id="SecurityConfig-to-JwtAuthenticationFilter" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="745.11,436.8048,741.4589,427.6577,741.5302,433.3141,735.8738,433.3854,745.11,436.8048" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.479" x="689" y="384.6631">configura</text></g><!--link JwtAuthenticationFilter to JwtTokenProvider--><g class="link" data-entity-1="JwtAuthenticationFilter" data-entity-2="JwtTokenProvider" data-source-line="48" data-uid="lnk18" id="link_JwtAuthenticationFilter_JwtTokenProvider"><path codeLine="48" d="M867.57,522.2348 C929.11,554.4148 1010.4627,596.9451 1083.1727,634.9551" fill="none" id="JwtAuthenticationFilter-to-JwtTokenProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1088.49,637.7348,1082.3672,630.0204,1084.0589,635.4184,1078.661,637.1101,1088.49,637.7348" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7744" x="994" y="587.6631">utiliza para validar</text></g><!--link AuthService to JwtTokenProvider--><g class="link" data-entity-1="AuthService" data-entity-2="JwtTokenProvider" data-source-line="49" data-uid="lnk19" id="link_AuthService_JwtTokenProvider"><path codeLine="49" d="M1217.43,513.4448 C1218.66,541.6448 1220.239,577.6404 1221.889,615.5404" fill="none" id="AuthService-to-JwtTokenProvider" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1222.15,621.5348,1225.7548,612.3693,1221.9325,616.5395,1217.7623,612.7173,1222.15,621.5348" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.7007" x="1221" y="587.6631">utiliza para generar token</text></g><!--SRC=[jLJTRjem5BxFKvnr5u06cJJkgcbI14oq1HLHgccQfieu1-fXxCnse8pnL7s4ljYSE52da6cgj5n0Slnzv_VpgRqnzxX4eAXIZaJK0iCCH_ZMxKsYmI3gNaFxVVix39yUuvHBY15kS9ug5fCOwfyPDqfgsC3bbqaZ21925sIESFPyq95YnYo1KFRqA79-efYOMpVKkZ6RCzW6O1_AYTO7gwCLHzdJWYXXLxZ9FAC2udrucCkrYL9RaJ2C4iEaAE0_JjiFp7TGFXuIOUkmOKvPwsNieSBie-6vtDVYOdNk2HCmUtwlzur9zXZ7smLUAqhr-etOQcDZqHtScBoJqUZYxghtzQxVYxgziGSipb4dxG_Es-7mBQmaYo6Mpl-5i3-2y28djU9enlWpHMsQ9PDEfD3Oz4fgU06dKcOYWXNXLY3AnQoxD4vKM3MjRNcY4xb0CL9onM8tofBXlvMq2tQUeZjoQN4sLTIPY6tUBkrSrcKD7wMyFPw9HghG-1Df0PVPi1uIvgGqrBwM76sE0XLHkVkYhytYRo3tFIunvDHadDwICDv5drWD7ik_GBCuU-2jjdsEgx4lz70CAmlUQY6R2gFu2Wdauwf17nKAoiY9JHD8DGzrRfifiiIrL8jmZTFGNShmMb0SsUgTI0ejVlpTgbmhhtVet-qiwp5ogoIhhrnSNKnGnAwC-gsMZU35MWp3J-NrS0vqluLEOQikca-hmXJyyWJE8JMCiry44gB8Vhw1Fy5_uHLo1fE1WZy0]--></g></svg>